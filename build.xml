<project name="AbcLinuxu" basedir="." default="compile">
  <property name="src" value="src"/>
  <property name="build" value="build"/>
  <property name="deploy" value="../tomcat/webapps/abc"/>

  <path id="project.classpath">
    <fileset dir="libs">
      <include name="*.jar"/>
    </fileset>
  </path>


  <target name="init">
    <mkdir dir="${build}"/>
    <mkdir dir="${build}/WEB-INF"/>
    <mkdir dir="${build}/WEB-INF/lib"/>
    <mkdir dir="${build}/WEB-INF/classes"/>
    <mkdir dir="${build}/logs"/>
    <mkdir dir="${deploy}"/>
    <tstamp/>
  </target>


  <target name="compile" depends="init">
    <javac srcdir="${src}" destdir="${build}/WEB-INF/classes" classpathref="project.classpath"/>
    <javac srcdir="test" destdir="${build}/WEB-INF/classes" classpathref="project.classpath"/>
  </target>


  <target name="dist" depends="compile">
    <copy todir="${build}/WEB-INF">
      <fileset dir="conf">
        <include name="web.xml"/>
        <include name="log4j.xml"/>
      </fileset>
    </copy>

    <copy todir="${build}/WEB-INF/classes">
      <fileset dir="conf">
<!--        <include name="poolman.xml"/> -->
        <include name="views.properties"/>
        <include name="actions.xml"/>
        <include name="webwork.properties"/>
      </fileset>
    </copy>

    <copy todir="${build}/WEB-INF/lib">
      <fileset dir="libs" includes="*.jar"/>
    </copy>

    <copy todir="${build}">
      <fileset dir="jsp"/>
    </copy>
  </target>


  <target name="deploy" depends="dist">
    <copy todir="${deploy}">
      <fileset dir="${build}"/>
    </copy>
  </target>
</project>