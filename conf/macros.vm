#####
## Macro, that synchronizes selected generic object with persistance
#####

#macro(sync $object)
#if(!$object.isInitialized()) $PERSISTANCE.synchronize($object)#end
#end



#####
## Macro, that displays parents of selected generic object
#####

#macro(parents)
#if($RELATION)
<div class="parents">
#foreach($parent in $PARENTS)
#if($velocityCount==1) #sync($parent.Parent)
<a href="$!URL.make("/ViewCategory?categoryId=$parent.Parent.Id")">$!UTIL.getXPath($parent.Parent,'data/name')</a>
#end
- <a href="$!URL.make("/ViewRelation?relationId=$parent.Id")">$!UTIL.getChildName($parent)</a>
#end</div>#end#end



#####
## Macro, that shows messages and generic errors
#####

#macro(showMessages)
#foreach ($msg in $MESSAGES)<div class="message">$msg</div>#set($found=true)#end
#if($!ERRORS.get('generic'))<div class="error">$ERRORS.get('generic')</div>#set($found=true)#end
#if($found)<br>#end
#end
